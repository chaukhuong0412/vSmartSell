<h1 class="text-center">Thanh toán nợ</h1>
<div *ngIf="invalidDate" class="alert alert-danger">Sai ngày thanh toán!</div>

<div class="form-row">
    <div class="col-3">
        <label class="control-label">Người lập HĐ:</label>
    </div>
    <div class="col-7">
        <div class="input-group mb-3">
            <input disabled type="text" class="form-control" [(ngModel)]="user">
        </div>
    </div>
</div>

<div class="form-row">
    <div class="col-3">
        <label class="control-label">Ngày thanh toán</label>
    </div>
    <div class="col-7">
        <div class="input-group mb-3">
            <div class="input-group">
                <input type="text" id="datePicker" class="form-control" placeholder="yyyy-mm-dd" name="dp" 
                 (blur)="onDateTimeInputBlur()"
                (dateSelect)="onDateSelect($event)" ngbDatepicker #d="ngbDatepicker" autocomplete="off">
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" (click)="d.toggle()" type="button"><i class="fa fa-calendar"></i></button>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="form-row">
    <div class="col-3">
        <label class="control-label">Công nợ:</label>
    </div>
    <div class="col-7">
        <div class="input-group mb-3">
            <input disabled type="text" class="form-control" [(ngModel)]="debtString">
            <div class="input-group-prepend">
                <span class="input-group-text">đ</span>
            </div>
        </div>
    </div>
</div>

<div class="form-row">
    <div class="col-3">
        <label class="control-label">Thanh toán:</label>
    </div>
    <div class="col-7">
        <div class="input-group mb-3">
            <input type="text" class="form-control" [(ngModel)]="amount" (keyup)="addCommasToAmount(event)" (blur)="onAmountInputBlur()">
            <div class="input-group-prepend">
                <span class="input-group-text">đ</span>
            </div>
        </div>
    </div>
    <div class="col-2">
        <label class="vertical-center">
            <input type="checkbox" [(ngModel)]="payAllModel" (ngModelChange)="payAll($event)" class="vertical-center">
            Thanh toán hết
        </label>
    </div>
</div>

<div class="form-row">
    <div class="col-3">
        <label class="control-label">Còn lại:</label>
    </div>
    <div class="col-7">
        <div class="input-group mb-3">
            <input disabled type="text" class="form-control" [(ngModel)]="restString">
            <div class="input-group-prepend">
                <span class="input-group-text">đ</span>
            </div>
        </div>
    </div>
</div>

<div class="form-row">
    <div class="col-3">
        <label class="control-label">Chuyển khoản:</label>
    </div>
    <div class="col-7">
        <div class="input-group mb-3">
            <div class="vertical-center">
                <input type="checkbox" [(ngModel)]="transfer" (ngModelChange)="transfer($event)">
            </div>
        </div>

    </div>
</div>

<div *ngIf="transfer" class="form-row">
    <div class="col-3">
        <label class="control-label">Ngân hàng:</label>
    </div>
    <div class="col-7">
        <div class="input-group mb-3">
            <div class="vertical-center">
                <select class="form-control">
                    <option>Ngân hàng ABC</option>
                </select>
            </div>
        </div>

    </div>
</div>
<hr />

<div>
    <button id="create-button" class="btn btn-primary" (click)="createPayment();">Tạo</button>
</div>